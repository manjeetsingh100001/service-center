{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91964\\\\Desktop\\\\service-center\\\\src\\\\components\\\\Orders.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { showOrders, changeOrder, sortOrder } from \"../Redux/actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Orders = () => {\n  _s();\n\n  //  Get all data when admin logs in and populate it\n  // store it in redux\n  // const [Data, setData] = useState([]);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    fetch(\"http://localhost:8080/orders\").then(res => res.json()).then(data => {\n      dispatch(showOrders(data));\n    });\n  }, []);\n  const data = useSelector(store => store.orders);\n\n  const handleSort = e => {\n    dispatch(sortOrder(e.target.value));\n  };\n\n  const handleAccept = e => {\n    const costInput = prompt(\"Please enter the cost\", null);\n    const id = e.target.parentElement.parentElement.id;\n    const postData = data.map(e => {\n      if (e.id == id) {\n        e.status = \"Pending\";\n        e.cost = Number(costInput);\n        return e;\n      }\n\n      return e;\n    });\n    dispatch(changeOrder(postData)); // console.log(postData)\n    // fetch('http://localhost:8080/orders', {\n    //     method: 'PATCH', // or 'PUT'\n    //     headers: {\n    //         'Content-Type': 'application/json',\n    //     },\n    //     body: JSON.stringify(postData),\n    // })\n    //     .then(response => response.json())\n    //     .then(data => {\n    //         console.log('Success:', data);\n    //     })\n    //     .catch((error) => {\n    //         console.error('Error:', error);\n    //     });\n    // dispatch(changeOrder(id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"controls\",\n          name: \"progress\",\n          id: \"progress\",\n          onChange: handleSort,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"id\",\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"status\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"cost\",\n            children: \"Cost\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"orders\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Problem\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Client Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Cost\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Change Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Accept\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: data.map(e => {\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"orders-row\",\n              id: e.id,\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"id\",\n                children: e.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"problem\",\n                children: e.problem\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"owner\",\n                children: e.owner_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"status\",\n                children: e.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"cost\",\n                children: e.status === \"Not Accepted\" ? \"-\" : `$${e.cost}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"change-status\",\n                children: e.status !== \"Not Accepted\" ? /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"changeStatus\",\n                  name: \"changeStatus\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Pending\",\n                    children: \"Pending\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"In Progress\",\n                    children: \"In Progress\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Done\",\n                    children: \"Done\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Not Accepted\",\n                    children: \"Not Accepted\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 45\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"accept\",\n                children: e.status === \"Not Accepted\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleAccept,\n                  children: \"Accept\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 45\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 37\n              }, this)]\n            }, e.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Orders, \"SW0bPGzXyyqf5qE2yHE8pzr1S8w=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Orders;\n\nvar _c;\n\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","showOrders","changeOrder","sortOrder","Orders","dispatch","fetch","then","res","json","data","store","orders","handleSort","e","target","value","handleAccept","costInput","prompt","id","parentElement","postData","map","status","cost","Number","problem","owner_name"],"sources":["C:/Users/91964/Desktop/service-center/src/components/Orders.jsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { showOrders, changeOrder, sortOrder } from \"../Redux/actions\";\n\nexport const Orders = () => {\n    //  Get all data when admin logs in and populate it\n    // store it in redux\n\n    // const [Data, setData] = useState([]);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        fetch(\"http://localhost:8080/orders\")\n            .then(res => res.json())\n            .then(data => {\n                dispatch(showOrders(data));\n            });\n    }, []);\n\n    const data = useSelector(store => store.orders);\n\n    const handleSort = (e) => {\n        dispatch(sortOrder(e.target.value));\n    }\n\n    const handleAccept = (e) => {\n        const costInput = prompt(\"Please enter the cost\", null);\n        const id = e.target.parentElement.parentElement.id;\n        const postData = data.map((e) => {\n            if (e.id == id) {\n                e.status = \"Pending\";\n                e.cost = Number(costInput);\n                return e;\n            }\n            return e;\n        });\n\n        dispatch(changeOrder(postData));\n\n        // console.log(postData)\n\n        // fetch('http://localhost:8080/orders', {\n        //     method: 'PATCH', // or 'PUT'\n        //     headers: {\n        //         'Content-Type': 'application/json',\n        //     },\n        //     body: JSON.stringify(postData),\n        // })\n        //     .then(response => response.json())\n        //     .then(data => {\n        //         console.log('Success:', data);\n        //     })\n        //     .catch((error) => {\n        //         console.error('Error:', error);\n        //     });\n\n\n        // dispatch(changeOrder(id));\n    }\n\n    return (\n        <div>\n            <div>\n                <div>\n                    <select className=\"controls\" name=\"progress\" id=\"progress\" onChange={handleSort}>\n                        <option value=\"id\">ID</option>\n                        <option value=\"status\">Status</option>\n                        <option value=\"cost\">Cost</option>\n                    </select>\n                </div>\n                <table className=\"orders\">\n                    <thead>\n                        <tr>\n                            <th>ID</th>\n                            <th>Problem</th>\n                            <th>Client Name</th>\n                            <th>Status</th>\n                            <th>Cost</th>\n                            <th>Change Status</th>\n                            <th>Accept</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {data.map((e) => {\n                            return (\n                                <tr className=\"orders-row\" key={e.id} id={e.id}>\n                                    <td className=\"id\">{e.id}</td>\n                                    <td className=\"problem\">{e.problem}</td>\n                                    <td className=\"owner\">{e.owner_name}</td>\n                                    <td className=\"status\">{e.status}</td>\n                                    <td className=\"cost\">\n                                        {e.status === \"Not Accepted\" ?\n                                            \"-\"\n                                            : `$${e.cost}`}\n                                    </td>\n                                    <td className=\"change-status\">\n                                        {/* Show select dropdown only if status is Not Accepted */}\n                                        {e.status !== \"Not Accepted\" ?\n                                            <select className=\"changeStatus\" name=\"changeStatus\">\n                                                <option value=\"Pending\">Pending</option>\n                                                <option value=\"In Progress\">In Progress</option>\n                                                <option value=\"Done\">Done</option>\n                                                <option value=\"Not Accepted\">Not Accepted</option>\n                                            </select>\n                                            : null}\n\n                                    </td>\n                                    <td className=\"accept\">\n                                        {/* Show this button only if status is Not Accepted */}\n                                        {/* on change make request to update it in db, and show changed status in table */}\n                                        {e.status === \"Not Accepted\" ?\n                                            <button\n                                                onClick={handleAccept}>Accept</button>\n                                            : null}\n\n                                    </td>\n                                </tr>\n                            )\n                        })}\n\n\n                        {/* <tr className=\"orders-row\">\n                            <td className=\"id\"></td>\n                            <td className=\"problem\"></td>\n                            <td className=\"owner\"></td>\n                            <td className=\"status\"></td>\n                            <td className=\"cost\"></td>\n                            <td className=\"change-status\">\n                                <select className=\"changeStatus\" name=\"changeStatus\">\n                                    <option value=\"Pending\">Pending</option>\n                                    <option value=\"In Progress\">In Progress</option>\n                                    <option value=\"Done\">Done</option>\n                                    <option value=\"Not Accepted\">Not Accepted</option>\n                                </select>\n                            </td>\n                            <td className=\"accept\">\n                                <button>Accept</button>\n                            </td>\n                        </tr> */}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    );\n};"],"mappings":";;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,SAAlC,QAAmD,kBAAnD;;AAEA,OAAO,MAAMC,MAAM,GAAG,MAAM;EAAA;;EACxB;EACA;EAEA;EACA,MAAMC,QAAQ,GAAGN,WAAW,EAA5B;EAEAF,SAAS,CAAC,MAAM;IACZS,KAAK,CAAC,8BAAD,CAAL,CACKC,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUG,IAAI,IAAI;MACVL,QAAQ,CAACJ,UAAU,CAACS,IAAD,CAAX,CAAR;IACH,CAJL;EAKH,CANQ,EAMN,EANM,CAAT;EAQA,MAAMA,IAAI,GAAGV,WAAW,CAACW,KAAK,IAAIA,KAAK,CAACC,MAAhB,CAAxB;;EAEA,MAAMC,UAAU,GAAIC,CAAD,IAAO;IACtBT,QAAQ,CAACF,SAAS,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CAAR;EACH,CAFD;;EAIA,MAAMC,YAAY,GAAIH,CAAD,IAAO;IACxB,MAAMI,SAAS,GAAGC,MAAM,CAAC,uBAAD,EAA0B,IAA1B,CAAxB;IACA,MAAMC,EAAE,GAAGN,CAAC,CAACC,MAAF,CAASM,aAAT,CAAuBA,aAAvB,CAAqCD,EAAhD;IACA,MAAME,QAAQ,GAAGZ,IAAI,CAACa,GAAL,CAAUT,CAAD,IAAO;MAC7B,IAAIA,CAAC,CAACM,EAAF,IAAQA,EAAZ,EAAgB;QACZN,CAAC,CAACU,MAAF,GAAW,SAAX;QACAV,CAAC,CAACW,IAAF,GAASC,MAAM,CAACR,SAAD,CAAf;QACA,OAAOJ,CAAP;MACH;;MACD,OAAOA,CAAP;IACH,CAPgB,CAAjB;IASAT,QAAQ,CAACH,WAAW,CAACoB,QAAD,CAAZ,CAAR,CAZwB,CAcxB;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAGA;EACH,CAjCD;;EAmCA,oBACI;IAAA,uBACI;MAAA,wBACI;QAAA,uBACI;UAAQ,SAAS,EAAC,UAAlB;UAA6B,IAAI,EAAC,UAAlC;UAA6C,EAAE,EAAC,UAAhD;UAA2D,QAAQ,EAAET,UAArE;UAAA,wBACI;YAAQ,KAAK,EAAC,IAAd;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ,eAEI;YAAQ,KAAK,EAAC,QAAd;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFJ,eAGI;YAAQ,KAAK,EAAC,MAAd;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAHJ;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QADJ,eAQI;QAAO,SAAS,EAAC,QAAjB;QAAA,wBACI;UAAA,uBACI;YAAA,wBACI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAFJ,eAGI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAHJ,eAII;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAJJ,eAKI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QALJ,eAMI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QANJ,eAOI;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA,QAPJ;UAAA;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QADJ,eAYI;UAAA,UACKH,IAAI,CAACa,GAAL,CAAUT,CAAD,IAAO;YACb,oBACI;cAAI,SAAS,EAAC,YAAd;cAAsC,EAAE,EAAEA,CAAC,CAACM,EAA5C;cAAA,wBACI;gBAAI,SAAS,EAAC,IAAd;gBAAA,UAAoBN,CAAC,CAACM;cAAtB;gBAAA;gBAAA;gBAAA;cAAA,QADJ,eAEI;gBAAI,SAAS,EAAC,SAAd;gBAAA,UAAyBN,CAAC,CAACa;cAA3B;gBAAA;gBAAA;gBAAA;cAAA,QAFJ,eAGI;gBAAI,SAAS,EAAC,OAAd;gBAAA,UAAuBb,CAAC,CAACc;cAAzB;gBAAA;gBAAA;gBAAA;cAAA,QAHJ,eAII;gBAAI,SAAS,EAAC,QAAd;gBAAA,UAAwBd,CAAC,CAACU;cAA1B;gBAAA;gBAAA;gBAAA;cAAA,QAJJ,eAKI;gBAAI,SAAS,EAAC,MAAd;gBAAA,UACKV,CAAC,CAACU,MAAF,KAAa,cAAb,GACG,GADH,GAEM,IAAGV,CAAC,CAACW,IAAK;cAHrB;gBAAA;gBAAA;gBAAA;cAAA,QALJ,eAUI;gBAAI,SAAS,EAAC,eAAd;gBAAA,UAEKX,CAAC,CAACU,MAAF,KAAa,cAAb,gBACG;kBAAQ,SAAS,EAAC,cAAlB;kBAAiC,IAAI,EAAC,cAAtC;kBAAA,wBACI;oBAAQ,KAAK,EAAC,SAAd;oBAAA;kBAAA;oBAAA;oBAAA;oBAAA;kBAAA,QADJ,eAEI;oBAAQ,KAAK,EAAC,aAAd;oBAAA;kBAAA;oBAAA;oBAAA;oBAAA;kBAAA,QAFJ,eAGI;oBAAQ,KAAK,EAAC,MAAd;oBAAA;kBAAA;oBAAA;oBAAA;oBAAA;kBAAA,QAHJ,eAII;oBAAQ,KAAK,EAAC,cAAd;oBAAA;kBAAA;oBAAA;oBAAA;oBAAA;kBAAA,QAJJ;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QADH,GAOK;cATV;gBAAA;gBAAA;gBAAA;cAAA,QAVJ,eAsBI;gBAAI,SAAS,EAAC,QAAd;gBAAA,UAGKV,CAAC,CAACU,MAAF,KAAa,cAAb,gBACG;kBACI,OAAO,EAAEP,YADb;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QADH,GAGK;cANV;gBAAA;gBAAA;gBAAA;cAAA,QAtBJ;YAAA,GAAgCH,CAAC,CAACM,EAAlC;cAAA;cAAA;cAAA;YAAA,QADJ;UAkCH,CAnCA;QADL;UAAA;UAAA;UAAA;QAAA,QAZJ;MAAA;QAAA;QAAA;QAAA;MAAA,QARJ;IAAA;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAoFH,CA5IM;;GAAMhB,M;UAKQL,W,EAUJC,W;;;KAfJI,M"},"metadata":{},"sourceType":"module"}