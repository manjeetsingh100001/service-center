{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91964\\\\Desktop\\\\service-center\\\\src\\\\components\\\\Login.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { userStatus, userDetails } from '../Redux/actions';\nimport { useDispatch } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = () => {\n  _s();\n\n  const [FormData, setFormData] = useState({\n    username: null,\n    password: null\n  });\n\n  const handleChange = e => {\n    setFormData({ ...FormData,\n      [e.target.name]: e.target.value\n    });\n  }; // const [UserDetails, setUserDetails] = useState(null);\n\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const handleLogin = () => {\n    fetch(\"http://localhost:8080/users\").then(res => res.json()).then(data => {\n      console.log(data);\n      data.map(e => {\n        if (e.username === FormData.username && e.pass === FormData.password) {\n          console.log(\"success\"); // setUserDetails(e);\n          // changing user status and adding user details in store\n\n          dispatch(userStatus(true));\n          dispatch(userDetails(e)); // if user has logged in, navigate them to respective pages based on role\n\n          if (e.role === \"admin\") {\n            navigate(\"/orders\");\n          } else {\n            navigate(\"/neworder\");\n          }\n        }\n\n        return e;\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      onChange: handleChange,\n      className: \"username\",\n      type: \"text\",\n      name: \"username\",\n      placeholder: \"Enter Username\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      onChange: handleChange,\n      className: \"password\",\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Enter password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogin,\n      className: \"submit\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"dT9tm4mHPYaCCRye1HoiBGgBkj8=\", false, function () {\n  return [useNavigate, useDispatch];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useNavigate","userStatus","userDetails","useDispatch","Login","FormData","setFormData","username","password","handleChange","e","target","name","value","navigate","dispatch","handleLogin","fetch","then","res","json","data","console","log","map","pass","role"],"sources":["C:/Users/91964/Desktop/service-center/src/components/Login.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { userStatus, userDetails } from '../Redux/actions';\nimport { useDispatch } from 'react-redux';\n\nexport const Login = () => {\n    const [FormData, setFormData] = useState({\n        username: null,\n        password: null\n    });\n    const handleChange = (e) => {\n        setFormData({\n            ...FormData,\n            [e.target.name]: e.target.value\n        });\n    };\n\n    // const [UserDetails, setUserDetails] = useState(null);\n\n    const navigate = useNavigate();\n    const dispatch = useDispatch();\n\n    const handleLogin = () => {\n        fetch(\"http://localhost:8080/users\")\n            .then(res => res.json())\n            .then(data => {\n                console.log(data)\n                data.map((e) => {\n                    if (e.username === FormData.username && e.pass === FormData.password) {\n                        console.log(\"success\")\n                        // setUserDetails(e);\n\n                        // changing user status and adding user details in store\n                        dispatch(userStatus(true));\n                        dispatch(userDetails(e));\n                        // if user has logged in, navigate them to respective pages based on role\n                        if (e.role === \"admin\") {\n                            navigate(\"/orders\");\n                        } else {\n                            navigate(\"/neworder\");\n                        }\n                    }\n                    return e;\n                });\n            });\n    }\n    return (\n        <div>\n            <input\n                onChange={handleChange}\n                className=\"username\"\n                type=\"text\"\n                name=\"username\"\n                placeholder=\"Enter Username\"\n            />\n            <input\n                onChange={handleChange}\n                className=\"password\"\n                type=\"password\"\n                name=\"password\"\n                placeholder=\"Enter password\"\n            />\n            {/* On this button click make network req to find user with same username and password */}\n            {/* get his role, if role is `admin` take him to `/orders` page otherwise take him to `/neworder` */}\n            <button\n                onClick={handleLogin}\n                className=\"submit\">Login</button>\n        </div>\n    );\n};"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,kBAAxC;AACA,SAASC,WAAT,QAA4B,aAA5B;;AAEA,OAAO,MAAMC,KAAK,GAAG,MAAM;EAAA;;EACvB,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC;IACrCQ,QAAQ,EAAE,IAD2B;IAErCC,QAAQ,EAAE;EAF2B,CAAD,CAAxC;;EAIA,MAAMC,YAAY,GAAIC,CAAD,IAAO;IACxBJ,WAAW,CAAC,EACR,GAAGD,QADK;MAER,CAACK,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;IAFlB,CAAD,CAAX;EAIH,CALD,CALuB,CAYvB;;;EAEA,MAAMC,QAAQ,GAAGd,WAAW,EAA5B;EACA,MAAMe,QAAQ,GAAGZ,WAAW,EAA5B;;EAEA,MAAMa,WAAW,GAAG,MAAM;IACtBC,KAAK,CAAC,6BAAD,CAAL,CACKC,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUG,IAAI,IAAI;MACVC,OAAO,CAACC,GAAR,CAAYF,IAAZ;MACAA,IAAI,CAACG,GAAL,CAAUd,CAAD,IAAO;QACZ,IAAIA,CAAC,CAACH,QAAF,KAAeF,QAAQ,CAACE,QAAxB,IAAoCG,CAAC,CAACe,IAAF,KAAWpB,QAAQ,CAACG,QAA5D,EAAsE;UAClEc,OAAO,CAACC,GAAR,CAAY,SAAZ,EADkE,CAElE;UAEA;;UACAR,QAAQ,CAACd,UAAU,CAAC,IAAD,CAAX,CAAR;UACAc,QAAQ,CAACb,WAAW,CAACQ,CAAD,CAAZ,CAAR,CANkE,CAOlE;;UACA,IAAIA,CAAC,CAACgB,IAAF,KAAW,OAAf,EAAwB;YACpBZ,QAAQ,CAAC,SAAD,CAAR;UACH,CAFD,MAEO;YACHA,QAAQ,CAAC,WAAD,CAAR;UACH;QACJ;;QACD,OAAOJ,CAAP;MACH,CAhBD;IAiBH,CArBL;EAsBH,CAvBD;;EAwBA,oBACI;IAAA,wBACI;MACI,QAAQ,EAAED,YADd;MAEI,SAAS,EAAC,UAFd;MAGI,IAAI,EAAC,MAHT;MAII,IAAI,EAAC,UAJT;MAKI,WAAW,EAAC;IALhB;MAAA;MAAA;MAAA;IAAA,QADJ,eAQI;MACI,QAAQ,EAAEA,YADd;MAEI,SAAS,EAAC,UAFd;MAGI,IAAI,EAAC,UAHT;MAII,IAAI,EAAC,UAJT;MAKI,WAAW,EAAC;IALhB;MAAA;MAAA;MAAA;IAAA,QARJ,eAiBI;MACI,OAAO,EAAEO,WADb;MAEI,SAAS,EAAC,QAFd;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAjBJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAuBH,CAhEM;;GAAMZ,K;UAcQJ,W,EACAG,W;;;KAfRC,K"},"metadata":{},"sourceType":"module"}